{"ast":null,"code":"import _defineProperty from\"/Users/leesebastian/Desktop/whitetails/Farnhok/skoolsCapstone/frontend/skools/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/leesebastian/Desktop/whitetails/Farnhok/skoolsCapstone/frontend/skools/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/leesebastian/Desktop/whitetails/Farnhok/skoolsCapstone/frontend/skools/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/leesebastian/Desktop/whitetails/Farnhok/skoolsCapstone/frontend/skools/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/leesebastian/Desktop/whitetails/Farnhok/skoolsCapstone/frontend/skools/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import*as React from'react';import FacebookLogin from'react-facebook-login';import{NavLink,withRouter}from'react-router-dom';import{connect}from'react-redux';import{loginFacebook as _loginFacebook,loginUser as _loginUser}from'../redux/auth/actions';import{Input}from'reactstrap';import'./../assets/css/login.css';var PureLogin=/*#__PURE__*/function(_React$Component){_inherits(PureLogin,_React$Component);var _super=_createSuper(PureLogin);function PureLogin(props){var _this;_classCallCheck(this,PureLogin);_this=_super.call(this,props);_this.toggle=function(){_this.setState(function(prevState){return{modal:!prevState.modal};});};_this.componentClick=function(){return null;};_this.responseFacebook=function(userInfo){if(userInfo.accessToken){_this.props.loginFacebook(userInfo);}return null;};_this.onChangeValue=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.login=function(e){e.preventDefault();_this.props.loginUser(_this.state.email,_this.state.password);_this.checkLogin();};_this.checkLogin=function(){if(_this.props.isAuthenticated){_this.props.history.push(\"/\");}else{_this.setState({errorMessage:'Please check your Email and password',errorStyle:'errorStyle',password:''});}};_this.state={modal:false,email:'',password:'',errorMessage:'',errorStyle:'loginInput'};return _this;}_createClass(PureLogin,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(\"div\",{id:\"loginContainer\"},/*#__PURE__*/React.createElement(\"form\",{id:\"loginForm\"},/*#__PURE__*/React.createElement(\"div\",{className:\"loginText\"},/*#__PURE__*/React.createElement(\"h3\",null,\"Hello Parents!\"),/*#__PURE__*/React.createElement(\"p\",null,\"Sign into your account here.\")),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(FacebookLogin,{className:\"loginButton\",appId:\"339253950099115\",autoLoad:false,cookies:false,fields:\"name,email,picture\",onClick:this.componentClick,callback:this.responseFacebook})),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"loginText\",id:\"loginOr\"},/*#__PURE__*/React.createElement(\"h6\",null,\"OR\")),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",null,\"Email\"),/*#__PURE__*/React.createElement(Input,{className:this.state.errorStyle,type:\"text\",name:\"email\",placeholder:\"Enter your email\",onChange:function onChange(e){return _this2.onChangeValue(e);},value:this.state.username})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",null,\"Password\"),/*#__PURE__*/React.createElement(Input,{className:this.state.errorStyle,type:\"password\",name:\"password\",placeholder:\"Enter your password\",onChange:function onChange(e){return _this2.onChangeValue(e);},value:this.state.password})),/*#__PURE__*/React.createElement(\"div\",{id:\"loginButtonBox\"},/*#__PURE__*/React.createElement(\"button\",{className:\"loginButton\",type:\"submit\",onClick:this.login},\"LOGIN\")),/*#__PURE__*/React.createElement(\"div\",{className:\"loginText\",id:\"loginNotRegister\"},/*#__PURE__*/React.createElement(\"p\",{id:\"errorMessage\"},this.state.errorMessage),/*#__PURE__*/React.createElement(\"p\",null,\"Not registered? \",/*#__PURE__*/React.createElement(NavLink,{to:\"/signup\",className:\"loginLink\"},\"Sign up\")))));}}]);return PureLogin;}(React.Component);;var mapStateToProps=function mapStateToProps(state){return{isAuthenticated:state.auth.isAuthenticated};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{loginUser:function loginUser(email,password){dispatch(_loginUser(email,password));},loginFacebook:function loginFacebook(accessToken){dispatch(_loginFacebook(accessToken));}};};export var Login=connect(mapStateToProps,mapDispatchToProps)(withRouter(PureLogin));","map":{"version":3,"sources":["/Users/leesebastian/Desktop/whitetails/Farnhok/skoolsCapstone/frontend/skools/src/component/login.jsx"],"names":["React","FacebookLogin","NavLink","withRouter","connect","loginFacebook","loginUser","Input","PureLogin","props","toggle","setState","prevState","modal","componentClick","responseFacebook","userInfo","accessToken","onChangeValue","e","target","name","value","login","preventDefault","state","email","password","checkLogin","isAuthenticated","history","push","errorMessage","errorStyle","username","Component","mapStateToProps","auth","mapDispatchToProps","dispatch","Login"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport FacebookLogin from 'react-facebook-login';\nimport { NavLink, withRouter} from 'react-router-dom';\nimport {connect} from 'react-redux';\nimport {loginFacebook, loginUser} from '../redux/auth/actions';\nimport {Input} from 'reactstrap';\nimport './../assets/css/login.css';\n\n\nclass PureLogin extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {  \n            modal: false,\n            email: '',\n            password: '',\n            errorMessage: '',\n            errorStyle: 'loginInput',\n        }\n    };\n\n    toggle = () => {\n        this.setState(prevState => ({\n          modal: !prevState.modal\n        }));\n    } \n\n    componentClick = () => {\n        return null;\n    };\n\n    responseFacebook = (userInfo) => {\n        if(userInfo.accessToken){\n            this.props.loginFacebook(userInfo);\n        }\n        return null;\n    };\n\n    onChangeValue = (e) => {\n        this.setState({\n            [e.target.name]: e.target.value\n        })\n    };\n\n    login = e => {\n        e.preventDefault();\n        this.props.loginUser(this.state.email, this.state.password)\n        this.checkLogin();\n    };\n\n    checkLogin = () => {\n            if (this.props.isAuthenticated) {\n                this.props.history.push(\"/\");\n            } else {\n                this.setState({\n                    errorMessage: 'Please check your Email and password',\n                    errorStyle: 'errorStyle',\n                    password: ''\n                })\n            }\n    }\n\n    render() { \n        return (\n            <div id='loginContainer'>\n                <form id='loginForm'>\n                    <div className='loginText'>\n                        <h3>Hello Parents!</h3>\n                        <p>Sign into your account here.</p>\n                    </div>\n                    <div>\n                        <FacebookLogin  \n                        className='loginButton'\n                        appId ='339253950099115'\n                        autoLoad={false}\n                        cookies={false}\n                        fields=\"name,email,picture\"\n                        onClick={this.componentClick}\n                        callback={this.responseFacebook}\n                        /> \n                    </div> \n                    <br />\n                    <div className='loginText' id='loginOr'>\n                        <h6>OR</h6>\n                    </div>\n                    <div>\n                        <label>Email</label>\n                        <Input className={this.state.errorStyle} type=\"text\" name=\"email\" placeholder='Enter your email' onChange={e => this.onChangeValue(e)} value={this.state.username}/>\n                    </div>\n                    <div>\n                        <label>Password</label>\n                        <Input className={this.state.errorStyle} type=\"password\" name=\"password\" placeholder='Enter your password' onChange={e => this.onChangeValue(e)} value={this.state.password}/>\n                    </div>\n                    <div id='loginButtonBox'>\n                        <button className='loginButton' type='submit' onClick={this.login}>LOGIN</button>\n                    </div>\n                    <div className='loginText' id='loginNotRegister'>\n                        <p id='errorMessage'>{this.state.errorMessage}</p>\n                        <p>Not registered? <NavLink to=\"/signup\" className='loginLink'>Sign up</NavLink></p>\n                    </div>\n                </form>\n            </div>\n        );\n    };\n};\n \nconst mapStateToProps = (state) => {\n    return {\n        isAuthenticated: state.auth.isAuthenticated\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        loginUser: (email, password) => {\n            dispatch(loginUser(email, password))\n        },    \n        loginFacebook: (accessToken) => {\n            dispatch(loginFacebook(accessToken))\n        }\n    }\n}\n\nexport const Login = connect(mapStateToProps, mapDispatchToProps)(withRouter(PureLogin))"]},"metadata":{},"sourceType":"module"}