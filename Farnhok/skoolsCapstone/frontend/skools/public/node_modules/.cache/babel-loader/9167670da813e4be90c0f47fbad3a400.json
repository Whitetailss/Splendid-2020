{"ast":null,"code":"import _regeneratorRuntime from\"/Users/leesebastian/Desktop/whitetails/Farnhok/skoolsCapstone/frontend/skools/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/leesebastian/Desktop/whitetails/Farnhok/skoolsCapstone/frontend/skools/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/leesebastian/Desktop/whitetails/Farnhok/skoolsCapstone/frontend/skools/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/leesebastian/Desktop/whitetails/Farnhok/skoolsCapstone/frontend/skools/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/leesebastian/Desktop/whitetails/Farnhok/skoolsCapstone/frontend/skools/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/leesebastian/Desktop/whitetails/Farnhok/skoolsCapstone/frontend/skools/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import axios from'axios';import{Container,Row,Card,CardHeader,CardBody,CardTitle,CardText,Col,Form,FormGroup,CardFooter,Button,Label,Input,ButtonDropdown,DropdownToggle,DropdownMenu,DropdownItem,Modal,ModalHeader,ModalBody,ModalFooter}from'reactstrap';import'../../assets/css/cms/socialCard.css';import{connect}from\"react-redux\";import{async}from'@firebase/util';import{storage}from'../../firebase';// import {deleteThunk} from \"../../redux/cmsSocial/\"\nexport var ViewSocialCard=/*#__PURE__*/function(_React$Component){_inherits(ViewSocialCard,_React$Component);var _super=_createSuper(ViewSocialCard);function ViewSocialCard(props){var _this;_classCallCheck(this,ViewSocialCard);_this=_super.call(this,props);_this.state={posts:[],photos:[],id:[]};return _this;}_createClass(ViewSocialCard,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var url,id,options,_yield$axios,posts,photoOptions,photo,photos;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:url=window.location.pathname;id=url.split(\"/\").slice(-1)[0];options={method:'GET',url:\"http://localhost:8080/school/card?id=\".concat(id),headers:{'Authorization':'Bearer '+localStorage.getItem('cmsToken')}};_context.next=5;return axios(options);case 5:_yield$axios=_context.sent;posts=_yield$axios.data;// console.log(posts)\nthis.setState({posts:posts});photoOptions={method:'GET',url:\"http://localhost:8080/school/card/photo?id=\".concat(id),headers:{'Authorization':'Bearer '+localStorage.getItem('cmsToken')}};_context.next=11;return axios(photoOptions);case 11:photo=_context.sent;// console.log(photo)\nphotos=photo.data;this.setState({photos:photos});console.log(this.state.photos);case 15:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){var posts=this.state.posts;var photos=this.state.photos;console.log(posts);console.log(photos);var feedCard=posts.map(function(post,index){return/*#__PURE__*/React.createElement(\"div\",{key:index},/*#__PURE__*/React.createElement(Card,{id:post.id},/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"input\",{type:\"text\",id:\"socialInput\",value:post.card_content}),photos.map(function(photo){return/*#__PURE__*/React.createElement(\"div\",{id:\"imageDiv\"},post.id==photo.card_id?/*#__PURE__*/React.createElement(\"img\",{id:\"postImage\",src:photo.photo,hspace:\"20\"}):'');}))),/*#__PURE__*/React.createElement(CardFooter,null,/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Row,null)))),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null));});return/*#__PURE__*/React.createElement(\"div\",{id:\"socialCardBody\"},/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"3\"}),/*#__PURE__*/React.createElement(Col,{md:\"6\"},/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),feedCard),/*#__PURE__*/React.createElement(Col,{md:\"3\"}))));}}]);return ViewSocialCard;}(React.Component);// const mapDispatchToProps = (dispatch) => {\n//     return {\n//       deleteCard: function (id) {\n//         console.log(id)\n//         dispatch(deleteThunk(id))\n//       }\n//     }\n//   }\n//   export default connect(mapDispatchToProps)(SocialCardPost)","map":{"version":3,"sources":["/Users/leesebastian/Desktop/whitetails/Farnhok/skoolsCapstone/frontend/skools/src/component/schoolCms/ViewSocialCard.js"],"names":["React","axios","Container","Row","Card","CardHeader","CardBody","CardTitle","CardText","Col","Form","FormGroup","CardFooter","Button","Label","Input","ButtonDropdown","DropdownToggle","DropdownMenu","DropdownItem","Modal","ModalHeader","ModalBody","ModalFooter","connect","async","storage","ViewSocialCard","props","state","posts","photos","id","url","window","location","pathname","split","slice","options","method","headers","localStorage","getItem","data","setState","photoOptions","photo","console","log","feedCard","map","post","index","card_content","card_id","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport {\n    Container, Row, Card, CardHeader, CardBody, CardTitle, CardText, Col, Form, FormGroup, CardFooter, Button, Label, Input,\n    ButtonDropdown, DropdownToggle, DropdownMenu, DropdownItem, Modal, ModalHeader, ModalBody, ModalFooter\n} from 'reactstrap'\nimport '../../assets/css/cms/socialCard.css'\nimport { connect } from \"react-redux\"\nimport { async } from '@firebase/util';\nimport { storage } from '../../firebase';\n// import {deleteThunk} from \"../../redux/cmsSocial/\"\n\n\n\nexport class ViewSocialCard extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            posts: [], photos: [], id: []\n        };\n\n    }\n\n\n    async componentDidMount() {\n        let url = window.location.pathname;\n        let id = url.split(\"/\").slice(-1)[0]\n        let options = {\n            method: 'GET',\n            url: `http://localhost:8080/school/card?id=${id}`,\n            headers: {\n                'Authorization': 'Bearer ' + localStorage.getItem('cmsToken')\n            }\n        }\n        const { data: posts } = await axios(options)\n        // console.log(posts)\n        this.setState({ posts })\n\n        let photoOptions = {\n            method: 'GET',\n            url: `http://localhost:8080/school/card/photo?id=${id}`,\n            headers: {\n                'Authorization': 'Bearer ' + localStorage.getItem('cmsToken')\n            }\n        }\n\n        const photo = await axios(photoOptions)\n        // console.log(photo)\n        let photos = photo.data\n        this.setState({ photos })\n\n        console.log(this.state.photos)\n\n    }\n\n    render() {\n     \n        const posts = this.state.posts\n        const photos = this.state.photos\n        console.log(posts)\n        console.log(photos)\n\n        \n\n\n        const feedCard =\n\n            posts.map((post, index) =>\n\n                <div key={index}>\n                  \n                    <Card id={post.id}>\n                        <CardBody>\n                         \n                            <div>\n                               \n                                <input type=\"text\" id=\"socialInput\" value={post.card_content}  />\n                                {photos.map((photo) =>\n                                    <div id='imageDiv'>\n                                        {post.id == photo.card_id ? <img id='postImage' src={photo.photo} hspace=\"20\" /> : ''}\n                                    </div>\n                                   \n                                )}\n                              \n                            </div>\n                        </CardBody>\n                        <CardFooter>\n                            <Container>\n                                <Row>\n                                  \n                                </Row>\n                            </Container>\n                        </CardFooter>\n                    </Card>\n                    <br />\n                    <br />\n                </div>\n\n            )\n\n\n\n        return (\n            <div id=\"socialCardBody\">\n                <Container>\n                    <Row>\n                        <Col md=\"3\">\n\n                        </Col>\n                        <Col md=\"6\">\n                           \n                            <br />\n                            <br />\n                            {feedCard}\n                        </Col>\n                        <Col md=\"3\">\n                        </Col>\n                    </Row>\n                </Container>\n            </div>\n        )\n    }\n\n}\n\n// const mapDispatchToProps = (dispatch) => {\n//     return {\n\n//       deleteCard: function (id) {\n//         console.log(id)\n//         dispatch(deleteThunk(id))\n//       }\n//     }\n//   }\n\n//   export default connect(mapDispatchToProps)(SocialCardPost)"]},"metadata":{},"sourceType":"module"}