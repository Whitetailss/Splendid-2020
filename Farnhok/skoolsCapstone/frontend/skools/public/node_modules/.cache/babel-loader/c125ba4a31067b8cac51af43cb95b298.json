{"ast":null,"code":"import axios from 'axios';\nexport const BANNER_UPLOAD = 'BANNER_UPLOAD';\nexport const VIDEO_UPLOAD = 'VIDEO_UPLOAD';\nexport const CONTACT_INFO_SAVED = 'CONTACT_INFO_SAVED';\nexport const OTHER_DETAILS_SAVED = 'OTHER_DETAILS_SAVED';\nexport const CONTACT_INFO_PUB = 'CONTACT_INFO_PUB';\nexport const FACILITY_IMAGE_UPLOAD = 'FACILITY_IMAGE_UPLOAD';\nexport const TEACHER_IMAGE_UPLOAD = 'TEACHER_IMAGE_UPLOAD';\nexport const SUBMIT_FAILURE = 'SUBMIT_FAILURE';\nexport const SUBMIT_SUCCESS = 'SUBMIT_SUCCESS';\n\nfunction submitFailure() {\n  return {\n    type: SUBMIT_FAILURE\n  };\n}\n\nfunction submitSuccess() {\n  return {\n    type: SUBMIT_SUCCESS\n  };\n}\n\nexport function submitCmsContent(bannerImg, mainVideo, contactInfo, moreDetails) {\n  console.log('got here with save button');\n  return dispatch => {\n    let cmsOptions = {\n      method: 'POST',\n      url: `http://localhost:8080/school/info`,\n      data: {\n        bannerImg: bannerImg,\n        mainVideo: mainVideo,\n        contactInfo: contactInfo,\n        moreDetails: moreDetails\n      },\n      headers: {\n        'Authorization': 'Bearer ' + localStorage.getItem('cmsToken')\n      }\n    };\n    return axios(cmsOptions).then(response => {\n      console.log('CMS content' + response.data);\n\n      if (!response.data) {\n        dispatch(submitFailure());\n      } else {\n        localStorage.setItem('school detail', response.data);\n        dispatch(submitSuccess());\n      }\n    }).catch(err => {\n      dispatch(submitFailure());\n    });\n  };\n} // export function submitCmsMedia(facility, teacher){\n//     console.log('got here with save media button')\n//     return  (dispatch) =>{\n//         let cmsOptions = {\n//             method: 'POST',\n//             url: `http://localhost:8080/school/api`,\n//             data:{\n//                 facility: facility,\n//                 teacher: teacher,\n//                 },\n//             headers:{\n//                 'Authorization': 'Bearer ' + localStorage.getItem('cmsToken')\n//             }\n//         } \n//         return axios(cmsOptions).then(response =>{\n//             console.log('CMS content' + response.data)\n//             if(!response.data){\n//                 dispatch(submitFailure());\n//             } else {\n//                 localStorage.setItem('school media', response.data);\n//                 dispatch(submitSuccess());\n//             }\n//         })\n//         .catch (err=>{\n//             dispatch(submitFailure());\n//         })\n//     }\n// } \n\nexport function uploadMedia(url, caption, uploaderName) {\n  return dispatch => {\n    if (uploaderName === 'banner') dispatch({\n      type: BANNER_UPLOAD,\n      payload: url\n    });else if (uploaderName === 'facility') dispatch({\n      type: FACILITY_IMAGE_UPLOAD,\n      payload: {\n        imgUrl: url,\n        caption: caption\n      }\n    });else if (uploaderName === 'teacher') dispatch({\n      type: TEACHER_IMAGE_UPLOAD,\n      payload: {\n        imgUrl: url,\n        caption: caption\n      }\n    });else if (uploaderName === 'mainVideo') dispatch({\n      type: VIDEO_UPLOAD,\n      payload: url\n    });\n  };\n}\nexport function saveInput(contactObj, inputType) {\n  console.log(contactObj);\n  return dispatch => {\n    if (inputType === 'contact') dispatch({\n      type: CONTACT_INFO_SAVED,\n      payload: contactObj\n    });else if (inputType === 'other') dispatch({\n      type: OTHER_DETAILS_SAVED,\n      payload: contactObj\n    });else {\n      console.log('error happens here');\n    }\n  };\n}","map":{"version":3,"sources":["/Users/leesebastian/Desktop/whitetails/Farnhok/skoolsCapstone/frontend/skools/src/redux/cmsDetails/action.js"],"names":["axios","BANNER_UPLOAD","VIDEO_UPLOAD","CONTACT_INFO_SAVED","OTHER_DETAILS_SAVED","CONTACT_INFO_PUB","FACILITY_IMAGE_UPLOAD","TEACHER_IMAGE_UPLOAD","SUBMIT_FAILURE","SUBMIT_SUCCESS","submitFailure","type","submitSuccess","submitCmsContent","bannerImg","mainVideo","contactInfo","moreDetails","console","log","dispatch","cmsOptions","method","url","data","headers","localStorage","getItem","then","response","setItem","catch","err","uploadMedia","caption","uploaderName","payload","imgUrl","saveInput","contactObj","inputType"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\n\r\nexport const BANNER_UPLOAD = 'BANNER_UPLOAD';\r\nexport const VIDEO_UPLOAD = 'VIDEO_UPLOAD';\r\nexport const CONTACT_INFO_SAVED = 'CONTACT_INFO_SAVED';\r\nexport const OTHER_DETAILS_SAVED = 'OTHER_DETAILS_SAVED';\r\nexport const CONTACT_INFO_PUB = 'CONTACT_INFO_PUB';\r\nexport const FACILITY_IMAGE_UPLOAD = 'FACILITY_IMAGE_UPLOAD';\r\nexport const TEACHER_IMAGE_UPLOAD = 'TEACHER_IMAGE_UPLOAD';\r\nexport const SUBMIT_FAILURE = 'SUBMIT_FAILURE';\r\nexport const SUBMIT_SUCCESS = 'SUBMIT_SUCCESS';\r\n\r\n\r\nfunction submitFailure(){\r\n    return {\r\n        type: SUBMIT_FAILURE\r\n    }\r\n}\r\n\r\n\r\nfunction submitSuccess(){\r\n    return {\r\n        type: SUBMIT_SUCCESS\r\n    }\r\n}\r\n\r\n\r\nexport function submitCmsContent(bannerImg, mainVideo, contactInfo, moreDetails){\r\n    console.log('got here with save button')\r\n    return  (dispatch) =>{\r\n      \r\n        let cmsOptions = {\r\n            method: 'POST',\r\n            url: `http://localhost:8080/school/info`,\r\n            data:{\r\n                bannerImg: bannerImg,\r\n                mainVideo: mainVideo,\r\n                contactInfo:contactInfo,\r\n                moreDetails: moreDetails\r\n                },\r\n            headers:{\r\n                'Authorization': 'Bearer ' + localStorage.getItem('cmsToken')\r\n            }\r\n        } \r\n               \r\n        return axios(cmsOptions).then(response =>{\r\n            console.log('CMS content' + response.data)\r\n            if(!response.data){\r\n                dispatch(submitFailure());\r\n            } else {\r\n                localStorage.setItem('school detail', response.data);\r\n                dispatch(submitSuccess());\r\n            }\r\n        })\r\n        .catch (err=>{\r\n            dispatch(submitFailure());\r\n        })\r\n\r\n    }\r\n} \r\n\r\n\r\n// export function submitCmsMedia(facility, teacher){\r\n//     console.log('got here with save media button')\r\n//     return  (dispatch) =>{\r\n      \r\n//         let cmsOptions = {\r\n//             method: 'POST',\r\n//             url: `http://localhost:8080/school/api`,\r\n//             data:{\r\n//                 facility: facility,\r\n//                 teacher: teacher,\r\n//                 },\r\n//             headers:{\r\n//                 'Authorization': 'Bearer ' + localStorage.getItem('cmsToken')\r\n//             }\r\n//         } \r\n               \r\n//         return axios(cmsOptions).then(response =>{\r\n//             console.log('CMS content' + response.data)\r\n//             if(!response.data){\r\n//                 dispatch(submitFailure());\r\n//             } else {\r\n//                 localStorage.setItem('school media', response.data);\r\n//                 dispatch(submitSuccess());\r\n//             }\r\n//         })\r\n//         .catch (err=>{\r\n//             dispatch(submitFailure());\r\n//         })\r\n\r\n//     }\r\n// } \r\n\r\n\r\nexport function uploadMedia(url, caption, uploaderName){\r\n    return (dispatch) => {\r\n        if (uploaderName === 'banner')\r\n        dispatch({\r\n            type: BANNER_UPLOAD,\r\n            payload: url\r\n        }) \r\n        else if (uploaderName === 'facility')\r\n        dispatch({\r\n            type: FACILITY_IMAGE_UPLOAD,\r\n            payload: {imgUrl: url, caption: caption}\r\n        })\r\n        else if (uploaderName === 'teacher')\r\n        dispatch({\r\n            type: TEACHER_IMAGE_UPLOAD,\r\n            payload:  {imgUrl: url, caption: caption}\r\n        })\r\n        else if(uploaderName === 'mainVideo')\r\n        dispatch({\r\n            type: VIDEO_UPLOAD,\r\n            payload: url\r\n        })\r\n    }\r\n\r\n} \r\n\r\n\r\nexport function saveInput(contactObj, inputType){\r\n    console.log(contactObj)\r\n    return (dispatch) =>{\r\n        if (inputType === 'contact')\r\n        dispatch({\r\n            type: CONTACT_INFO_SAVED,\r\n            payload: contactObj\r\n        })\r\n        else if (inputType === 'other')\r\n        dispatch({\r\n            type: OTHER_DETAILS_SAVED,\r\n            payload: contactObj\r\n        })\r\n        else {\r\n            console.log('error happens here')\r\n        }\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}