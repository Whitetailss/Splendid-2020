{"ast":null,"code":"import axios from'axios';export var BANNER_UPLOAD='BANNER_UPLOAD';export var VIDEO_UPLOAD='VIDEO_UPLOAD';export var CONTACT_INFO_SAVED='CONTACT_INFO_SAVED';export var OTHER_DETAILS_SAVED='OTHER_DETAILS_SAVED';export var CONTACT_INFO_PUB='CONTACT_INFO_PUB';export var FACILITY_IMAGE_UPLOAD='FACILITY_IMAGE_UPLOAD';export var TEACHER_IMAGE_UPLOAD='TEACHER_IMAGE_UPLOAD';export var SUBMIT_FAILURE='SUBMIT_FAILURE';export var SUBMIT_SUCCESS='SUBMIT_SUCCESS';function submitFailure(){return{type:SUBMIT_FAILURE};}function submitSuccess(){return{type:SUBMIT_SUCCESS};}export function submitCmsContent(bannerImg,mainVideo,contactInfo,moreDetails){console.log('got here with save button');return function(dispatch){var cmsOptions={method:'POST',url:\"http://localhost:8080/school/info\",data:{bannerImg:bannerImg,mainVideo:mainVideo,contactInfo:contactInfo,moreDetails:moreDetails},headers:{'Authorization':'Bearer '+localStorage.getItem('cmsToken')}};return axios(cmsOptions).then(function(response){console.log('CMS content'+response.data);if(!response.data){dispatch(submitFailure());}else{localStorage.setItem('school detail',response.data);dispatch(submitSuccess());}}).catch(function(err){dispatch(submitFailure());});};}// export function submitCmsMedia(facility, teacher){\n//     console.log('got here with save media button')\n//     return  (dispatch) =>{\n//         let cmsOptions = {\n//             method: 'POST',\n//             url: `http://localhost:8080/school/api`,\n//             data:{\n//                 facility: facility,\n//                 teacher: teacher,\n//                 },\n//             headers:{\n//                 'Authorization': 'Bearer ' + localStorage.getItem('cmsToken')\n//             }\n//         } \n//         return axios(cmsOptions).then(response =>{\n//             console.log('CMS content' + response.data)\n//             if(!response.data){\n//                 dispatch(submitFailure());\n//             } else {\n//                 localStorage.setItem('school media', response.data);\n//                 dispatch(submitSuccess());\n//             }\n//         })\n//         .catch (err=>{\n//             dispatch(submitFailure());\n//         })\n//     }\n// } \nexport function uploadMedia(url,caption,uploaderName){return function(dispatch){if(uploaderName==='banner')dispatch({type:BANNER_UPLOAD,payload:url});else if(uploaderName==='facility')dispatch({type:FACILITY_IMAGE_UPLOAD,payload:{imgUrl:url,caption:caption}});else if(uploaderName==='teacher')dispatch({type:TEACHER_IMAGE_UPLOAD,payload:{imgUrl:url,caption:caption}});else if(uploaderName==='mainVideo')dispatch({type:VIDEO_UPLOAD,payload:url});};}export function saveInput(contactObj,inputType){console.log(contactObj);return function(dispatch){if(inputType==='contact')dispatch({type:CONTACT_INFO_SAVED,payload:contactObj});else if(inputType==='other')dispatch({type:OTHER_DETAILS_SAVED,payload:contactObj});else{console.log('error happens here');}};}","map":{"version":3,"sources":["/Users/leesebastian/Desktop/whitetails/Farnhok/skoolsCapstone/frontend/skools/src/redux/cmsDetails/action.js"],"names":["axios","BANNER_UPLOAD","VIDEO_UPLOAD","CONTACT_INFO_SAVED","OTHER_DETAILS_SAVED","CONTACT_INFO_PUB","FACILITY_IMAGE_UPLOAD","TEACHER_IMAGE_UPLOAD","SUBMIT_FAILURE","SUBMIT_SUCCESS","submitFailure","type","submitSuccess","submitCmsContent","bannerImg","mainVideo","contactInfo","moreDetails","console","log","dispatch","cmsOptions","method","url","data","headers","localStorage","getItem","then","response","setItem","catch","err","uploadMedia","caption","uploaderName","payload","imgUrl","saveInput","contactObj","inputType"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\n\r\nexport const BANNER_UPLOAD = 'BANNER_UPLOAD';\r\nexport const VIDEO_UPLOAD = 'VIDEO_UPLOAD';\r\nexport const CONTACT_INFO_SAVED = 'CONTACT_INFO_SAVED';\r\nexport const OTHER_DETAILS_SAVED = 'OTHER_DETAILS_SAVED';\r\nexport const CONTACT_INFO_PUB = 'CONTACT_INFO_PUB';\r\nexport const FACILITY_IMAGE_UPLOAD = 'FACILITY_IMAGE_UPLOAD';\r\nexport const TEACHER_IMAGE_UPLOAD = 'TEACHER_IMAGE_UPLOAD';\r\nexport const SUBMIT_FAILURE = 'SUBMIT_FAILURE';\r\nexport const SUBMIT_SUCCESS = 'SUBMIT_SUCCESS';\r\n\r\n\r\nfunction submitFailure(){\r\n    return {\r\n        type: SUBMIT_FAILURE\r\n    }\r\n}\r\n\r\n\r\nfunction submitSuccess(){\r\n    return {\r\n        type: SUBMIT_SUCCESS\r\n    }\r\n}\r\n\r\n\r\nexport function submitCmsContent(bannerImg, mainVideo, contactInfo, moreDetails){\r\n    console.log('got here with save button')\r\n    return  (dispatch) =>{\r\n      \r\n        let cmsOptions = {\r\n            method: 'POST',\r\n            url: `http://localhost:8080/school/info`,\r\n            data:{\r\n                bannerImg: bannerImg,\r\n                mainVideo: mainVideo,\r\n                contactInfo:contactInfo,\r\n                moreDetails: moreDetails\r\n                },\r\n            headers:{\r\n                'Authorization': 'Bearer ' + localStorage.getItem('cmsToken')\r\n            }\r\n        } \r\n               \r\n        return axios(cmsOptions).then(response =>{\r\n            console.log('CMS content' + response.data)\r\n            if(!response.data){\r\n                dispatch(submitFailure());\r\n            } else {\r\n                localStorage.setItem('school detail', response.data);\r\n                dispatch(submitSuccess());\r\n            }\r\n        })\r\n        .catch (err=>{\r\n            dispatch(submitFailure());\r\n        })\r\n\r\n    }\r\n} \r\n\r\n\r\n// export function submitCmsMedia(facility, teacher){\r\n//     console.log('got here with save media button')\r\n//     return  (dispatch) =>{\r\n      \r\n//         let cmsOptions = {\r\n//             method: 'POST',\r\n//             url: `http://localhost:8080/school/api`,\r\n//             data:{\r\n//                 facility: facility,\r\n//                 teacher: teacher,\r\n//                 },\r\n//             headers:{\r\n//                 'Authorization': 'Bearer ' + localStorage.getItem('cmsToken')\r\n//             }\r\n//         } \r\n               \r\n//         return axios(cmsOptions).then(response =>{\r\n//             console.log('CMS content' + response.data)\r\n//             if(!response.data){\r\n//                 dispatch(submitFailure());\r\n//             } else {\r\n//                 localStorage.setItem('school media', response.data);\r\n//                 dispatch(submitSuccess());\r\n//             }\r\n//         })\r\n//         .catch (err=>{\r\n//             dispatch(submitFailure());\r\n//         })\r\n\r\n//     }\r\n// } \r\n\r\n\r\nexport function uploadMedia(url, caption, uploaderName){\r\n    return (dispatch) => {\r\n        if (uploaderName === 'banner')\r\n        dispatch({\r\n            type: BANNER_UPLOAD,\r\n            payload: url\r\n        }) \r\n        else if (uploaderName === 'facility')\r\n        dispatch({\r\n            type: FACILITY_IMAGE_UPLOAD,\r\n            payload: {imgUrl: url, caption: caption}\r\n        })\r\n        else if (uploaderName === 'teacher')\r\n        dispatch({\r\n            type: TEACHER_IMAGE_UPLOAD,\r\n            payload:  {imgUrl: url, caption: caption}\r\n        })\r\n        else if(uploaderName === 'mainVideo')\r\n        dispatch({\r\n            type: VIDEO_UPLOAD,\r\n            payload: url\r\n        })\r\n    }\r\n\r\n} \r\n\r\n\r\nexport function saveInput(contactObj, inputType){\r\n    console.log(contactObj)\r\n    return (dispatch) =>{\r\n        if (inputType === 'contact')\r\n        dispatch({\r\n            type: CONTACT_INFO_SAVED,\r\n            payload: contactObj\r\n        })\r\n        else if (inputType === 'other')\r\n        dispatch({\r\n            type: OTHER_DETAILS_SAVED,\r\n            payload: contactObj\r\n        })\r\n        else {\r\n            console.log('error happens here')\r\n        }\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}