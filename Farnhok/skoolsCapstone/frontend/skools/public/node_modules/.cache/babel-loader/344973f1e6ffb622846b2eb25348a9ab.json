{"ast":null,"code":"var _jsxFileName = \"/Users/leesebastian/Desktop/whitetails/Farnhok/skoolsCapstone/frontend/skools/src/component/schoolCms/SocailCardPost.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport { Container, Row, Card, CardHeader, CardBody, CardTitle, CardText, Col, Form, FormGroup, CardFooter, Button, Label, Input, ButtonDropdown, DropdownToggle, DropdownMenu, DropdownItem, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport '../../assets/css/cms/socialCard.css';\nimport { connect } from \"react-redux\";\nimport { async } from '@firebase/util';\nimport { storage } from '../../firebase'; // import {deleteThunk} from \"../../redux/cmsSocial/\"\n\nexport class SocialCardPost extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handlePost = async postValue => {\n      // console.log(postValue)\n      let options = {\n        method: 'POST',\n        url: `http://localhost:8080/school/card/?card_content=${postValue}`,\n        headers: {\n          'Authorization': 'Bearer ' + localStorage.getItem('cmsToken')\n        }\n      };\n      let posts = await axios(options);\n      this.setState({\n        posts: posts.data\n      });\n    };\n\n    this.handleUpdate = async (posts, id) => {\n      let i;\n\n      for (i = 0; i < posts.length; i++) {\n        if (posts[i]['id'] == id) {\n          let editValue = posts[i]['card_content'];\n          let options = {\n            method: 'PUT',\n            url: `http://localhost:8080/school/card/${id}?card_content=${editValue}`,\n            headers: {\n              'Authorization': 'Bearer ' + localStorage.getItem('cmsToken')\n            }\n          };\n          await axios(options);\n        }\n      }\n    };\n\n    this.handleDelete = async id => {\n      let options = {\n        method: 'DELETE',\n        url: `http://localhost:8080/school/card/?card_id=${id}`,\n        headers: {\n          'Authorization': 'Bearer ' + localStorage.getItem('cmsToken')\n        }\n      };\n      let posts = await axios(options);\n      this.setState({\n        posts: posts.data\n      });\n    };\n\n    this.handleFileChange = e => {\n      console.log('you must be there');\n      var array = [];\n      console.log(e.target.files.length);\n\n      if (e.target.files[0]) {\n        var i;\n\n        for (i = 0; i < e.target.files.length; i++) {\n          var image = e.target.files[i];\n          array.push(image);\n        }\n\n        this.setState({\n          image: this.state.image.concat(array)\n        });\n        console.log(this.state.image);\n      }\n    };\n\n    this.handleUpload = async (images, postValue) => {\n      const {\n        image\n      } = this.state;\n      let options = {\n        method: 'POST',\n        url: `http://localhost:8080/school/card/?card_content=${postValue}`,\n        headers: {\n          'Authorization': 'Bearer ' + localStorage.getItem('cmsToken')\n        }\n      };\n      let posts = await axios(options);\n      this.setState({\n        posts: posts.data\n      });\n\n      for (let i = 0; i < this.state.image.length; i++) {\n        console.log(image[i].name);\n        const uploadTask = storage.ref(`social_card/${image[i].name}`).put(image[i]);\n        uploadTask.on('state_changed', snapshot => {}, error => {\n          console.log(error);\n        }, () => {\n          storage.ref('social_card').child(image[i].name).getDownloadURL().then(async url => {\n            console.log(url);\n            let id = posts.data[0]['id'];\n            console.log(id);\n            let photoOptions = {\n              method: 'POST',\n              url: `http://localhost:8080/school/card/${id}`,\n              data: {\n                url: url\n              },\n              headers: {\n                'Authorization': 'Bearer ' + localStorage.getItem('cmsToken')\n              }\n            };\n            let photos = await axios(photoOptions);\n            this.setState({\n              photos: photos.data\n            });\n          });\n        });\n      }\n    };\n\n    this.state = {\n      posts: [],\n      photos: [],\n      editValue: '',\n      postValue: '',\n      inputValue: '',\n      image: [],\n      url: [],\n      modal: false\n    };\n    this.toggle = this.toggle.bind(this);\n    this.handlePost = this.handlePost.bind(this);\n    this.handlePostChange = this.handlePostChange.bind(this);\n    this.handleUpdate = this.handleUpdate.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleDelete = this.handleDelete.bind(this);\n    this.handleFileChange = this.handleFileChange.bind(this);\n    this.handleUpload = this.handleUpload.bind(this);\n  }\n\n  async componentDidMount() {\n    let options = {\n      method: 'GET',\n      url: 'http://localhost:8080/school/card',\n      headers: {\n        'Authorization': 'Bearer ' + localStorage.getItem('cmsToken')\n      }\n    };\n    const {\n      data: posts\n    } = await axios(options); // console.log(posts)\n\n    this.setState({\n      posts\n    });\n    let photoOptions = {\n      method: 'GET',\n      url: 'http://localhost:8080/school/card/photo',\n      headers: {\n        'Authorization': 'Bearer ' + localStorage.getItem('cmsToken')\n      }\n    };\n    const photo = await axios(photoOptions); // console.log(photo)\n\n    let photos = photo.data;\n    this.setState({\n      photos\n    });\n    console.log(this.state.photos);\n  }\n\n  async toggle() {\n    await this.setState(prevState => ({\n      modal: !prevState.modal\n    }));\n  }\n\n  handlePostChange(event) {\n    this.setState({\n      postValue: event.target.value\n    });\n    console.log(this.state.postValue);\n  }\n\n  handleChange(event, id, allPost) {\n    let i;\n\n    for (i = 0; i < allPost.length; i++) {\n      if (allPost[i]['id'] == id) {\n        allPost[i]['card_content'] = event.target.value;\n        this.setState({\n          posts: allPost\n        });\n      }\n    }\n  }\n\n  render() {\n    // const posts = [\n    //     { id: 1, card_content: 'hello' },\n    //     { id: 2, card_content: 'bye' }\n    // ];\n    const posts = this.state.posts;\n    const photos = this.state.photos;\n    console.log(posts);\n    console.log(photos); // const posts = this.state.posts\n    // console.log(`here is ${posts}`)\n\n    const feedCard = posts.map((post, index) => /*#__PURE__*/React.createElement(\"div\", {\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      id: post.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(CardBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"socialInput\",\n      value: post.card_content,\n      onChange: event => this.handleChange(event, post.id, this.state.posts),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 33\n      }\n    }), photos.map(photo => /*#__PURE__*/React.createElement(\"div\", {\n      id: \"imageDiv\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 37\n      }\n    }, post.id == photo.card_id ? /*#__PURE__*/React.createElement(\"img\", {\n      id: \"postImage\",\n      src: photo.photo,\n      hspace: \"20\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 69\n      }\n    }) : '') // <img src={photo.photo} />\n    ))), /*#__PURE__*/React.createElement(CardFooter, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: \"1.5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: () => this.handleUpdate(this.state.posts, post.id),\n      id: post.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 51\n      }\n    }, \"Edit\")), /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: () => this.handleDelete(post.id),\n      id: post.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 42\n      }\n    }, \"Delete\")))))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 21\n      }\n    })));\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"socialCardBody\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: \"3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(Col, {\n      md: \"6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      className: \"gedf-card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"social_card_card-body py-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      action: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      className: \"mb-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      className: \"sr-only\",\n      for: \"exampleFormControlTextarea1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 53\n      }\n    }, \"Example textarea\"), /*#__PURE__*/React.createElement(Input, {\n      type: \"textarea\",\n      className: \"social_card_form-control border-0 textValue\",\n      id: \"exampleFormControlTextarea1\",\n      rows: \"2\",\n      placeholder: \"Update Your Feed Here\",\n      onChange: this.handlePostChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 53\n      }\n    })))))), /*#__PURE__*/React.createElement(CardFooter, {\n      className: \"p-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-between align-items-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      type: \"button\",\n      className: \"socail_card_btn btn-fposts btn-block btn-sm\",\n      \"data-toggle\": \"modal\",\n      \"data-target\": \"#uploadImg\",\n      onClick: this.toggle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 45\n      }\n    }, \"image/video\"), /*#__PURE__*/React.createElement(Modal, {\n      isOpen: this.state.modal,\n      toggle: this.toggle,\n      className: this.props.className,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(ModalHeader, {\n      toggle: this.toggle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 49\n      }\n    }, \"Upload\"), /*#__PURE__*/React.createElement(ModalBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      type: \"file\",\n      multiple: true,\n      onChange: e => this.handleFileChange(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 53\n      }\n    }), /*#__PURE__*/React.createElement(Input, {\n      type: \"text\",\n      placeholder: \"Cations\",\n      onChange: this.handlePostChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 53\n      }\n    })), /*#__PURE__*/React.createElement(ModalFooter, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      color: \"primary\",\n      onClick: () => {\n        this.handleUpload(this.state.image, this.state.postValue);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 53\n      }\n    }, \"Upload\"), /*#__PURE__*/React.createElement(Button, {\n      color: \"secondary\",\n      onClick: this.toggle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 53\n      }\n    }, \"Cancel\")))), /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: () => this.handlePost(this.state.postValue),\n      type: \"button\",\n      className: \"socail_card_btn btn-fposts btn-block btn-sm\",\n      id: \"post\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 45\n      }\n    }, \"Post\"))))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 29\n      }\n    }), feedCard), /*#__PURE__*/React.createElement(Col, {\n      md: \"3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 25\n      }\n    }))));\n  }\n\n} // const mapDispatchToProps = (dispatch) => {\n//     return {\n//       deleteCard: function (id) {\n//         console.log(id)\n//         dispatch(deleteThunk(id))\n//       }\n//     }\n//   }\n//   export default connect(mapDispatchToProps)(SocialCardPost)","map":{"version":3,"sources":["/Users/leesebastian/Desktop/whitetails/Farnhok/skoolsCapstone/frontend/skools/src/component/schoolCms/SocailCardPost.js"],"names":["React","axios","Container","Row","Card","CardHeader","CardBody","CardTitle","CardText","Col","Form","FormGroup","CardFooter","Button","Label","Input","ButtonDropdown","DropdownToggle","DropdownMenu","DropdownItem","Modal","ModalHeader","ModalBody","ModalFooter","connect","async","storage","SocialCardPost","Component","constructor","props","handlePost","postValue","options","method","url","headers","localStorage","getItem","posts","setState","data","handleUpdate","id","i","length","editValue","handleDelete","handleFileChange","e","console","log","array","target","files","image","push","state","concat","handleUpload","images","name","uploadTask","ref","put","on","snapshot","error","child","getDownloadURL","then","photoOptions","photos","inputValue","modal","toggle","bind","handlePostChange","handleChange","componentDidMount","photo","prevState","event","value","allPost","render","feedCard","map","post","index","card_content","card_id","className"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport {\n    Container, Row, Card, CardHeader, CardBody, CardTitle, CardText, Col, Form, FormGroup, CardFooter, Button, Label, Input,\n    ButtonDropdown, DropdownToggle, DropdownMenu, DropdownItem, Modal, ModalHeader, ModalBody, ModalFooter\n} from 'reactstrap'\nimport '../../assets/css/cms/socialCard.css'\nimport { connect } from \"react-redux\"\nimport { async } from '@firebase/util';\nimport { storage } from '../../firebase';\n// import {deleteThunk} from \"../../redux/cmsSocial/\"\n\n\n\nexport class SocialCardPost extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            posts: [], photos: [], editValue: '', postValue: '', inputValue: '', image: [], url: [], modal: false\n        };\n        this.toggle = this.toggle.bind(this);\n        this.handlePost = this.handlePost.bind(this);\n        this.handlePostChange = this.handlePostChange.bind(this);\n        this.handleUpdate = this.handleUpdate.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n        this.handleDelete = this.handleDelete.bind(this);\n        this.handleFileChange = this.handleFileChange.bind(this);\n        this.handleUpload = this.handleUpload.bind(this);\n    }\n\n    async componentDidMount() {\n        let options = {\n            method: 'GET',\n            url: 'http://localhost:8080/school/card',\n            headers: {\n                'Authorization': 'Bearer ' + localStorage.getItem('cmsToken')\n            }\n        }\n        const { data: posts } = await axios(options)\n        // console.log(posts)\n        this.setState({ posts })\n\n        let photoOptions = {\n            method: 'GET',\n            url: 'http://localhost:8080/school/card/photo',\n            headers: {\n                'Authorization': 'Bearer ' + localStorage.getItem('cmsToken')\n            }\n        }\n\n        const photo = await axios(photoOptions)\n        // console.log(photo)\n        let photos = photo.data\n        this.setState({ photos })\n\n        console.log(this.state.photos)\n\n    }\n\n    async toggle() {\n       await this.setState(prevState => ({\n            modal: !prevState.modal\n        }));\n    }\n\n    handlePostChange(event) {\n        this.setState({ postValue: event.target.value })\n        console.log(this.state.postValue)\n    }\n\n    handleChange(event, id, allPost) {\n        let i\n        for (i = 0; i < allPost.length; i++) {\n            if (allPost[i]['id'] == id) {\n                allPost[i]['card_content'] = event.target.value\n                this.setState({ posts: allPost });\n            }\n        }\n    }\n\n    handlePost = async (postValue) => {\n        // console.log(postValue)\n\n        let options = {\n            method: 'POST',\n            url: `http://localhost:8080/school/card/?card_content=${postValue}`,\n            headers: {\n                'Authorization': 'Bearer ' + localStorage.getItem('cmsToken')\n            }\n        }\n\n        let posts = await axios(options)\n        this.setState({ posts: posts.data })\n    }\n\n    handleUpdate = async (posts, id) => {\n        let i\n        for (i = 0; i < posts.length; i++) {\n            if (posts[i]['id'] == id) {\n                let editValue = posts[i]['card_content']\n\n                let options = {\n                    method: 'PUT',\n                    url: `http://localhost:8080/school/card/${id}?card_content=${editValue}`,\n                    headers: {\n                        'Authorization': 'Bearer ' + localStorage.getItem('cmsToken')\n                    }\n                }\n\n                await axios(options)\n            }\n        }\n\n    }\n\n    handleDelete = async id => {\n        let options = {\n            method: 'DELETE',\n            url: `http://localhost:8080/school/card/?card_id=${id}`,\n            headers: {\n                'Authorization': 'Bearer ' + localStorage.getItem('cmsToken')\n            }\n        }\n        let posts = await axios(options)\n        this.setState({ posts: posts.data })\n    }\n\n    handleFileChange = e => {\n        console.log('you must be there')\n        var array = []\n        console.log(e.target.files.length)\n        if (e.target.files[0]) {\n            var i\n            for (i = 0; i < e.target.files.length; i++) {\n                var image = e.target.files[i]\n                array.push(image)\n            }\n            this.setState({ image: this.state.image.concat(array) });\n            console.log(this.state.image)\n        }\n    }\n\n    handleUpload = async (images,postValue) => {\n        const { image } = this.state;\n\n        let options = {\n            method: 'POST',\n            url: `http://localhost:8080/school/card/?card_content=${postValue}`,\n            headers: {\n                'Authorization': 'Bearer ' + localStorage.getItem('cmsToken')\n            }\n        }\n        let posts = await axios(options)\n        this.setState({ posts: posts.data })\n\n        for (let i = 0; i < this.state.image.length; i++) {\n            console.log(image[i].name)\n\n            const uploadTask = storage.ref(`social_card/${image[i].name}`).put(image[i]);\n\n            uploadTask.on('state_changed', (snapshot) => {\n\n            }, (error) => { console.log(error); },\n                () => {\n                    storage.ref('social_card').child(image[i].name).getDownloadURL().then(async (url) => {\n                        console.log(url);\n\n                        let id = posts.data[0]['id']\n                        console.log(id)\n                        let photoOptions = {\n                            method: 'POST',\n                            url: `http://localhost:8080/school/card/${id}`,\n                            data: {url: url},\n                            headers: {\n                                'Authorization': 'Bearer ' + localStorage.getItem('cmsToken')\n                            }\n                        }\n                        let photos = await axios(photoOptions\n\n                        )\n\n                        this.setState({photos: photos.data})\n\n                    })\n                }\n            )\n        }\n    }\n\n\n\n    render() {\n        // const posts = [\n        //     { id: 1, card_content: 'hello' },\n        //     { id: 2, card_content: 'bye' }\n        // ];\n        const posts = this.state.posts\n        const photos = this.state.photos\n        console.log(posts)\n        console.log(photos)\n\n        // const posts = this.state.posts\n        // console.log(`here is ${posts}`)\n        const feedCard =\n\n            posts.map((post, index) =>\n\n                <div key={index}>\n                    {/* {this.setState({inputValue: post.card_content})} */}\n                    <Card id={post.id}>\n                        <CardBody>\n                            {/* <CardText>{post.card_content}</CardText> */}\n                            <div>\n                                {/* <label> */}\n                                <input type=\"text\" id=\"socialInput\" value={post.card_content} onChange={(event) => this.handleChange(event, post.id, this.state.posts)} />\n                                {photos.map((photo) =>\n                                    <div id='imageDiv'>\n                                        {post.id == photo.card_id ? <img id='postImage' src={photo.photo} hspace=\"20\" /> : ''}\n                                    </div>\n                                    // <img src={photo.photo} />\n                                )}\n                                {/* </label> */}\n                            </div>\n                        </CardBody>\n                        <CardFooter>\n                            <Container>\n                                <Row>\n                                    <Col md=\"1.5\"><Button onClick={() => this.handleUpdate(this.state.posts, post.id)} id={post.id}>Edit</Button></Col>\n                                    <Col><Button onClick={() => this.handleDelete(post.id)} id={post.id}>Delete</Button></Col>\n                                </Row>\n                            </Container>\n                        </CardFooter>\n                    </Card>\n                    <br />\n                    <br />\n                </div>\n\n            )\n\n\n\n        return (\n            <div id=\"socialCardBody\">\n                <Container>\n                    <Row>\n                        <Col md=\"3\">\n\n                        </Col>\n                        <Col md=\"6\">\n                            <Card className=\"gedf-card\">\n                                <div className=\"social_card_card-body py-2\">\n                                    <div className=\"d-flex\">\n                                        <Col>\n                                            <Form action=\"\">\n                                                <FormGroup className=\"mb-0\">\n                                                    <Label className=\"sr-only\" for=\"exampleFormControlTextarea1\">Example textarea</Label>\n                                                    <Input type=\"textarea\" className=\"social_card_form-control border-0 textValue\" id=\"exampleFormControlTextarea1\"\n                                                        rows=\"2\" placeholder=\"Update Your Feed Here\" onChange={this.handlePostChange} />\n                                                </FormGroup>\n                                            </Form>\n                                        </Col>\n                                    </div>\n                                </div>\n                                <CardFooter className=\"p-2\">\n                                    <div className=\"d-flex justify-content-between align-items-center\">\n\n                                        <Col>\n                                            <Button type=\"button\" className=\"socail_card_btn btn-fposts btn-block btn-sm\" data-toggle=\"modal\"\n                                                data-target=\"#uploadImg\" onClick={this.toggle}>\n                                                image/video\n                                            </Button>\n                                            <Modal isOpen={this.state.modal} toggle={this.toggle} className={this.props.className}>\n                                                <ModalHeader toggle={this.toggle}>Upload</ModalHeader>\n                                                <ModalBody>\n                                                    <Input type=\"file\" multiple onChange={e => this.handleFileChange(e)} />\n                                                    <Input type=\"text\" placeholder=\"Cations\" onChange={this.handlePostChange}/>\n                                                </ModalBody>\n                                                <ModalFooter>\n                                                    <Button color=\"primary\" onClick={()=>{this.handleUpload(this.state.image,this.state.postValue)}} >Upload</Button>\n                                                    <Button color=\"secondary\" onClick={this.toggle}>Cancel</Button>\n                                                </ModalFooter>\n                                            </Modal>\n                                        </Col>\n                                        <Col>\n                                            <Button onClick={() => this.handlePost(this.state.postValue)} type=\"button\" className=\"socail_card_btn btn-fposts btn-block btn-sm\" id=\"post\">Post</Button>\n                                        </Col>\n                                    </div>\n                                </CardFooter>\n                            </Card>\n                            <br />\n                            <br />\n                            {feedCard}\n                        </Col>\n                        <Col md=\"3\">\n                        </Col>\n                    </Row>\n                </Container>\n            </div>\n        )\n    }\n\n}\n\n// const mapDispatchToProps = (dispatch) => {\n//     return {\n\n//       deleteCard: function (id) {\n//         console.log(id)\n//         dispatch(deleteThunk(id))\n//       }\n//     }\n//   }\n\n//   export default connect(mapDispatchToProps)(SocialCardPost)"]},"metadata":{},"sourceType":"module"}