{"ast":null,"code":"import _defineProperty from\"/Users/leesebastian/Desktop/whitetails/Farnhok/skoolsCapstone/frontend/skools/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/leesebastian/Desktop/whitetails/Farnhok/skoolsCapstone/frontend/skools/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/leesebastian/Desktop/whitetails/Farnhok/skoolsCapstone/frontend/skools/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/leesebastian/Desktop/whitetails/Farnhok/skoolsCapstone/frontend/skools/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/leesebastian/Desktop/whitetails/Farnhok/skoolsCapstone/frontend/skools/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{withRouter}from'react-router-dom';import{connect}from'react-redux';import{Container,Row,Col,Collapse}from'reactstrap';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faChevronUp,faChevronDown}from'@fortawesome/free-solid-svg-icons';import Select from'react-select';import{searchSchool as _searchSchool}from'../../redux/search/actions';import Loading from'../loading';import'../../assets/css/search/searchBar.css';var PureSearchBar=/*#__PURE__*/function(_React$Component){_inherits(PureSearchBar,_React$Component);var _super=_createSuper(PureSearchBar);function PureSearchBar(props){var _this;_classCallCheck(this,PureSearchBar);_this=_super.call(this,props);_this.toggle=function(){_this.setState(function(state){return{collapse:!state.collapse};});if(_this.state.collapse===false){_this.setState({searchStyle:'searchSearchDropButton',arrow:faChevronUp});}else{_this.setState({searchStyle:'searchSearchDropButton searchSearchDropBottom',arrow:faChevronDown});}};_this.onChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.handleLocation=function(selectedLocation){_this.setState({selectedLocation:selectedLocation});};_this.handleDay=function(selectedDay){_this.setState({selectedDay:selectedDay});};_this.onSearch=function(e){_this.setState({loading:true});var location=[];var selectedLocation=_this.state.selectedLocation;var selectedDay=_this.state.selectedDay;var day1;var day2;var day3;var day4;for(var i=0;i<selectedLocation.length;i++){location.push(selectedLocation[i].value);}for(var _i=0;_i<selectedDay.length;_i++){for(var j=1;j<=4;j++){if(selectedDay[_i].value[j]===true){if(j===1){day1=true;}else if(j===2){day2=true;}else if(j===3){day3=true;}else if(j===4){day4=true;}}}}var searchResult={schoolName:_this.state.name,selectedLocation:location,day1:day1,day2:day2,day3:day3,day4:day4};console.log(searchResult);_this.props.searchSchool(searchResult);};_this.state={name:'',selectedLocation:[],selectedDay:[],collapse:true,searchStyle:'searchSearchDropButton',arrow:faChevronUp,loading:false};return _this;}_createClass(PureSearchBar,[{key:\"shouldComponentUpdate\",value:function shouldComponentUpdate(nextProps,nextState){if(this.state.loading){this.props.history.push('/search');this.setState({loading:false,name:'',selectedLocation:[],selectedDay:[]});return true;}return true;}},{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,selectedLocation=_this$state.selectedLocation,selectedDay=_this$state.selectedDay;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"searchSearchButtonDrop\"},/*#__PURE__*/React.createElement(\"div\",{className:this.state.searchStyle,onClick:this.toggle},/*#__PURE__*/React.createElement(\"h5\",{className:\"searchSearchArrow\"},\"What can we help you to find?\"),/*#__PURE__*/React.createElement(FontAwesomeIcon,{className:\"searchSearchArrow\",size:\"lg\",icon:this.state.arrow,color:\"#0FACF3\"}))),/*#__PURE__*/React.createElement(Collapse,{isOpen:this.state.collapse},/*#__PURE__*/React.createElement(\"div\",{id:\"searchSearchForm\"},/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"3\"},/*#__PURE__*/React.createElement(\"label\",null,\"School Name?\"),/*#__PURE__*/React.createElement(\"input\",{className:\"searchSearchInput\",type:\"text\",name:\"name\",placeholder:\"All School\",value:this.state.name,onChange:function onChange(e){return _this2.onChange(e);}})),/*#__PURE__*/React.createElement(Col,{md:\"3\"},/*#__PURE__*/React.createElement(\"label\",null,\"Location?\"),/*#__PURE__*/React.createElement(Select,{isMulti:true,placeholder:\"Select All\",value:selectedLocation,name:\"selectedLocation\",onChange:this.handleLocation,options:this.props.location,closeMenuOnSelect:false})),/*#__PURE__*/React.createElement(Col,{md:\"3\"},/*#__PURE__*/React.createElement(\"label\",null,\"Half / Full-Day?\"),/*#__PURE__*/React.createElement(Select,{isMulti:true,placeholder:\"Select All\",value:selectedDay,name:\"selectedDay\",onChange:this.handleDay,options:this.props.day,closeMenuOnSelect:false})),/*#__PURE__*/React.createElement(Col,{id:\"searchSearchButtonBox\",md:\"3\"},/*#__PURE__*/React.createElement(\"button\",{className:\"searchSearchButton\",onClick:this.onSearch},\"Search\")))))),this.state.loading?/*#__PURE__*/React.createElement(Loading,null):null);}}]);return PureSearchBar;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{day:state.search.day,location:state.search.location,result:state.search.result};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{searchSchool:function searchSchool(result){dispatch(_searchSchool(result));}};};export var SearchSearchBar=withRouter(connect(mapStateToProps,mapDispatchToProps)(PureSearchBar));","map":{"version":3,"sources":["/Users/leesebastian/Desktop/whitetails/Farnhok/skoolsCapstone/frontend/skools/src/component/search/searchBar.jsx"],"names":["React","withRouter","connect","Container","Row","Col","Collapse","FontAwesomeIcon","faChevronUp","faChevronDown","Select","searchSchool","Loading","PureSearchBar","props","toggle","setState","state","collapse","searchStyle","arrow","onChange","e","target","name","value","handleLocation","selectedLocation","handleDay","selectedDay","onSearch","loading","location","day1","day2","day3","day4","i","length","push","j","searchResult","schoolName","console","log","nextProps","nextState","history","day","Component","mapStateToProps","search","result","mapDispatchToProps","dispatch","SearchSearchBar"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { Container, Row, Col, Collapse } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faChevronUp, faChevronDown } from '@fortawesome/free-solid-svg-icons';\nimport Select from 'react-select';\nimport { searchSchool } from '../../redux/search/actions';\nimport Loading from '../loading';\nimport '../../assets/css/search/searchBar.css';\n\nclass PureSearchBar extends React.Component {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            name: '',\n            selectedLocation: [],\n            selectedDay: [],\n            collapse: true,\n            searchStyle: 'searchSearchDropButton',\n            arrow: faChevronUp,\n            loading: false\n        };\n    };\n\n    shouldComponentUpdate(nextProps, nextState) {\n        if (this.state.loading) {\n            this.props.history.push('/search');\n            this.setState({\n                loading: false,\n                name: '',\n                selectedLocation: [],\n                selectedDay: [],\n            })\n            return true;\n        }\n        return true;\n    }\n\n    toggle = () => {\n        this.setState(state => ({ collapse: !state.collapse }));\n        if (this.state.collapse === false) {\n            this.setState({\n                searchStyle: 'searchSearchDropButton',\n                arrow: faChevronUp\n            })\n        } else {\n            this.setState({\n                searchStyle: 'searchSearchDropButton searchSearchDropBottom',\n                arrow: faChevronDown\n            })\n        }\n    }\n\n    onChange = e => {\n        this.setState({\n            [e.target.name]: e.target.value\n        })\n    }\n\n    handleLocation = selectedLocation => {\n        this.setState({selectedLocation});\n    }\n\n    handleDay = selectedDay => {\n        this.setState({selectedDay});\n    }\n\n    onSearch = e => {\n        this.setState({\n            loading: true\n        })\n        var location = [];\n        var selectedLocation = this.state.selectedLocation;\n        var selectedDay = this.state.selectedDay;\n        var day1;\n        var day2;\n        var day3; \n        var day4;\n        for (let i = 0; i < selectedLocation.length; i++) {\n            location.push(selectedLocation[i].value);\n        }\n        for (let i = 0; i < selectedDay.length; i++) {\n            for (let j = 1; j <= 4; j++) {\n                if (selectedDay[i].value[j] === true) {\n                    if (j === 1) {\n                        day1 = true\n                    } else if (j === 2) {\n                        day2 = true\n                    } else if (j === 3) {\n                        day3 = true\n                    } else if (j === 4) {\n                        day4 = true\n                    } \n                } \n            }\n        }\n        const searchResult = {\n            schoolName: this.state.name,\n            selectedLocation: location,\n            day1: day1,\n            day2: day2,\n            day3: day3,\n            day4: day4,\n        }\n        console.log(searchResult)\n        this.props.searchSchool(searchResult);\n    };\n\n    render() {\n        const { selectedLocation, selectedDay } = this.state;\n\n        return (\n            <div> \n                <div className='searchSearchButtonDrop'>\n                    <div className={this.state.searchStyle} onClick={this.toggle}>\n                        <h5 className=\"searchSearchArrow\">What can we help you to find?</h5>\n                        <FontAwesomeIcon  className=\"searchSearchArrow\" size=\"lg\" icon={this.state.arrow} color='#0FACF3'/>\n                    </div>\n                </div>\n                <Collapse isOpen={this.state.collapse}>\n                <div id='searchSearchForm'>\n                    <Container>\n                        <Row>\n                            <Col md=\"3\">\n                                    <label>School Name?</label>\n                                    <input className='searchSearchInput' type=\"text\" name=\"name\" placeholder=\"All School\" value={this.state.name} onChange={e => this.onChange(e)}/>\n                            </Col>\n                            <Col md=\"3\">\n                                    <label>Location?</label>\n                                    <Select isMulti \n                                        placeholder='Select All'\n                                        value={selectedLocation}\n                                        name='selectedLocation'\n                                        onChange={this.handleLocation}\n                                        options={this.props.location}\n                                        closeMenuOnSelect={false}\n                                    />\n                            </Col>\n                            <Col md=\"3\">\n                                    <label>Half / Full-Day?</label>\n                                    <Select isMulti \n                                        placeholder='Select All'\n                                        value={selectedDay}\n                                        name='selectedDay'\n                                        onChange={this.handleDay}\n                                        options={this.props.day}\n                                        closeMenuOnSelect={false}\n                                    />\n                            </Col>\n                            <Col id='searchSearchButtonBox' md=\"3\">\n                                <button className='searchSearchButton' onClick={this.onSearch}>Search</button>\n                            </Col>\n                        </Row>\n                    </Container>\n                </div>\n                </Collapse>\n                {this.state.loading? <Loading />: null}\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        day: state.search.day,\n        location: state.search.location,\n        result: state.search.result\n    }\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        searchSchool: (result) => {\n            dispatch(searchSchool(result))\n        }\n    }\n};\n\nexport const SearchSearchBar = withRouter(connect(mapStateToProps, mapDispatchToProps)(PureSearchBar))"]},"metadata":{},"sourceType":"module"}