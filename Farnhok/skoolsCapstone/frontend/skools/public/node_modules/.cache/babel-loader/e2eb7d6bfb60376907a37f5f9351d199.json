{"ast":null,"code":"var _jsxFileName = \"/Users/leesebastian/Desktop/whitetails/Farnhok/skoolsCapstone/frontend/skools/src/component/schoolCms/login.jsx\";\nimport * as React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { loginCmsUser, signUpCmsUser } from '../../redux/cmsAuth/actions';\nimport { Input } from 'reactstrap';\nimport './../../assets/css/cmsLogin.css';\n\nclass PureLogin extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.toggle = () => {\n      this.setState(prevState => ({\n        modal: !prevState.modal\n      }));\n    };\n\n    this.componentClick = () => {\n      return null;\n    };\n\n    this.onChangeValue = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.validateEmail = email => {\n      var emailAddress = /\\S+@\\S+\\.\\S+/;\n      return emailAddress.test(email);\n    };\n\n    this.isSignUpBox = e => {\n      e.preventDefault();\n      this.setState(prevState => ({\n        isSignUpBox: !prevState.isSignUpBox\n      }));\n    };\n\n    this.signUpCms = e => {\n      e.preventDefault();\n      console.log('signing up');\n      var email = this.state.signUpEmail;\n      var lengthPassword = this.state.signUpPassword.length;\n      console.log(email, lengthPassword);\n\n      if (!this.validateEmail(email)) {\n        this.setState({\n          errorMessage: 'Make sure you enter a proper email address',\n          errorStyleUser: 'errorStyle'\n        });\n      } else if (lengthPassword < 6) {\n        this.setState({\n          errorMessage: 'Make sure your password has at least 6 letters.',\n          errorStylePassword: 'errorStyle',\n          errorStyleUser: 'loginInput'\n        });\n      } else {\n        this.setState({\n          errorMessage: '',\n          errorStyleUser: 'loginInput',\n          errorStylePassword: 'loginInput'\n        });\n        this.props.signUpCmsUser(this.state.signUpEmail, this.state.signUpPassword);\n        setTimeout(this.checkCmsSignUp(), 500);\n      }\n    };\n\n    this.checkCmsSignUp = () => {\n      if (this.props.isSchoolSignUp) {\n        this.setState({\n          errorMessage: 'Signed up, redirect to login page after 1 second.'\n        });\n      } else {\n        this.setState({\n          errorStyleUser: 'errorStyle',\n          errorStylePassword: 'loginInput',\n          errorMessage: 'Email has been taken.'\n        });\n      }\n    };\n\n    this.loginCms = e => {\n      e.preventDefault();\n      this.props.loginCmsUser(this.state.loginEmail, this.state.loginPassword);\n      this.checkCmsLogin();\n    };\n\n    this.checkCmsLogin = () => {\n      if (this.props.isSchoolAuthenticated) {\n        this.props.history.push(\"/\");\n      } else {\n        this.setState({\n          errorMessage: 'Please check your Email and password',\n          errorStyle: 'errorStyle',\n          password: ''\n        });\n      }\n    };\n\n    this.state = {\n      modal: false,\n      isSignUpBox: false,\n      signUpEmail: '',\n      signUpPassword: '',\n      loginEmail: '',\n      loginPassword: '',\n      errorMessage: '',\n      errorStyle: 'loginInput',\n      errorStyleUser: 'loginInput',\n      errorStylePassword: 'loginInput'\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 13\n      }\n    }, this.state.isSignUpBox ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 44\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      id: \"cmsLoginForm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      className: this.state.errorStyleUser,\n      type: \"email\",\n      name: \"signUpEmail\",\n      placeholder: \"Enter your email\",\n      onChange: e => this.onChangeValue(e),\n      value: this.state.signUpEmail,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      className: this.state.errorStylePassword,\n      type: \"password\",\n      name: \"signUpPassword\",\n      placeholder: \"Enter your password (At least 6 characters)\",\n      onChange: e => this.onChangeValue(e),\n      value: this.state.signUpPassword,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"cmsLoginButtonBox\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"cmsSignupButton\",\n      onClick: this.signUpCms,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 29\n      }\n    }, \"Start Branding\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"loginText\",\n      id: \"loginNotRegister\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      id: \"errorMessage\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 29\n      }\n    }, this.state.errorMessage), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"toSignup\",\n      onClick: this.isSignUpBox,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 29\n      }\n    }, \"Already registered? Login\")))) : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 22\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      id: \"cmsLoginForm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      className: this.state.errorStyle,\n      type: \"text\",\n      name: \"loginEmail\",\n      placeholder: \"Enter your email\",\n      onChange: e => this.onChangeValue(e),\n      value: this.state.loginEmail,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      className: this.state.errorStyle,\n      type: \"password\",\n      name: \"loginPassword\",\n      placeholder: \"Enter your password\",\n      onChange: e => this.onChangeValue(e),\n      value: this.state.loginPassword,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"cmsLoginButtonBox\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"cmsLoginButton\",\n      type: \"submit\",\n      onClick: this.loginCms,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 33\n      }\n    }, \"Manage School Brand\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"loginText\",\n      id: \"loginNotRegister\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      id: \"errorMessage\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 33\n      }\n    }, this.state.errorMessage), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"toSignup\",\n      onClick: this.isSignUpBox,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 33\n      }\n    }, \"Not registered? Sign up\")))));\n  }\n\n}\n\n;\n\nconst mapStateToProps = state => {\n  return {\n    isSchoolAuthenticated: state.cmsAuth.isSchoolAuthenticated,\n    isSchoolSignUp: state.cmsAuth.isSchoolSignUp // isSignUpBox: state.auth.isSignUpBox\n\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    loginCmsUser: (email, password) => {\n      dispatch(loginCmsUser(email, password));\n    },\n    signUpCmsUser: (email, password) => {\n      dispatch(signUpCmsUser(email, password));\n    }\n  };\n};\n\nexport const Login = connect(mapStateToProps, mapDispatchToProps)(withRouter(PureLogin));","map":{"version":3,"sources":["/Users/leesebastian/Desktop/whitetails/Farnhok/skoolsCapstone/frontend/skools/src/component/schoolCms/login.jsx"],"names":["React","withRouter","connect","loginCmsUser","signUpCmsUser","Input","PureLogin","Component","constructor","props","toggle","setState","prevState","modal","componentClick","onChangeValue","e","target","name","value","validateEmail","email","emailAddress","test","isSignUpBox","preventDefault","signUpCms","console","log","state","signUpEmail","lengthPassword","signUpPassword","length","errorMessage","errorStyleUser","errorStylePassword","setTimeout","checkCmsSignUp","isSchoolSignUp","loginCms","loginEmail","loginPassword","checkCmsLogin","isSchoolAuthenticated","history","push","errorStyle","password","render","mapStateToProps","cmsAuth","mapDispatchToProps","dispatch","Login"],"mappings":"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","sourcesContent":["import * as React from 'react';\r\nimport { withRouter} from 'react-router-dom';\r\nimport {connect} from 'react-redux';\r\nimport {loginCmsUser, signUpCmsUser} from '../../redux/cmsAuth/actions';\r\nimport {Input} from 'reactstrap';\r\nimport './../../assets/css/cmsLogin.css';\r\n\r\n\r\nclass PureLogin extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {  \r\n            modal: false,\r\n            isSignUpBox: false,\r\n            signUpEmail: '',\r\n            signUpPassword: '',\r\n            loginEmail: '',\r\n            loginPassword: '',\r\n            errorMessage: '',\r\n            errorStyle: 'loginInput',\r\n            errorStyleUser: 'loginInput',\r\n            errorStylePassword: 'loginInput',\r\n        }\r\n    };\r\n\r\n    toggle = () => {\r\n        this.setState(prevState => ({\r\n          modal: !prevState.modal\r\n        }));\r\n    } \r\n\r\n    componentClick = () => {\r\n        return null;\r\n    };\r\n\r\n\r\n    onChangeValue = (e) => {\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        })\r\n    };\r\n\r\n    validateEmail = (email) => {\r\n        var emailAddress = /\\S+@\\S+\\.\\S+/;\r\n        return emailAddress.test(email);\r\n    }\r\n\r\n    isSignUpBox = e => {\r\n        e.preventDefault();\r\n        this.setState(prevState => ({\r\n            isSignUpBox: !prevState.isSignUpBox\r\n        }));\r\n    };\r\n\r\n    signUpCms = e => {\r\n        e.preventDefault();\r\n        console.log('signing up');\r\n        var email = this.state.signUpEmail\r\n        var lengthPassword = this.state.signUpPassword.length\r\n        console.log(email , lengthPassword)\r\n        if (!this.validateEmail(email)) {\r\n            this.setState({\r\n                errorMessage: 'Make sure you enter a proper email address',\r\n                errorStyleUser: 'errorStyle'\r\n            })\r\n        } else if ((lengthPassword < 6)) {\r\n            this.setState({\r\n                errorMessage: 'Make sure your password has at least 6 letters.',\r\n                errorStylePassword: 'errorStyle',\r\n                errorStyleUser: 'loginInput'\r\n            })\r\n        } else {\r\n            this.setState({\r\n                errorMessage: '',\r\n                errorStyleUser: 'loginInput',\r\n                errorStylePassword: 'loginInput'\r\n            }) \r\n            this.props.signUpCmsUser(this.state.signUpEmail, this.state.signUpPassword)\r\n            setTimeout(this.checkCmsSignUp(), 500)\r\n        }\r\n    }\r\n\r\n    checkCmsSignUp = () => {\r\n        if (this.props.isSchoolSignUp) {\r\n            this.setState({\r\n                errorMessage: 'Signed up, redirect to login page after 1 second.'\r\n            })\r\n        } else {\r\n            this.setState({\r\n                errorStyleUser: 'errorStyle',\r\n                errorStylePassword: 'loginInput',\r\n                errorMessage: 'Email has been taken.'\r\n            })\r\n        }\r\n    }\r\n\r\n  \r\n    loginCms = e => {\r\n        e.preventDefault();\r\n        this.props.loginCmsUser(this.state.loginEmail, this.state.loginPassword)\r\n        this.checkCmsLogin();\r\n    };\r\n\r\n    checkCmsLogin = () => {\r\n            if (this.props.isSchoolAuthenticated) {\r\n                this.props.history.push(\"/\");\r\n            } else {\r\n                this.setState({\r\n                    errorMessage: 'Please check your Email and password',\r\n                    errorStyle: 'errorStyle',\r\n                    password: ''\r\n                })\r\n            }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {this.state.isSignUpBox ? (<div>\r\n                    <form id='cmsLoginForm'>\r\n                        <div>\r\n                            <Input className={this.state.errorStyleUser} type=\"email\" name=\"signUpEmail\" placeholder='Enter your email' onChange={e => this.onChangeValue(e)} value={this.state.signUpEmail} />\r\n                        </div>\r\n                        <div>\r\n                            <Input className={this.state.errorStylePassword} type=\"password\" name=\"signUpPassword\" placeholder='Enter your password (At least 6 characters)' onChange={e => this.onChangeValue(e)} value={this.state.signUpPassword} />\r\n                        </div>\r\n                        <div id='cmsLoginButtonBox'>\r\n                            <button className='cmsSignupButton' onClick={this.signUpCms}>Start Branding</button>\r\n                        </div>\r\n                        <div className='loginText' id='loginNotRegister'>\r\n                            <p id='errorMessage'>{this.state.errorMessage}</p>\r\n                            <p className='toSignup' onClick={this.isSignUpBox}>Already registered? Login</p>\r\n                        </div>\r\n                    </form>\r\n                </div>)\r\n                    :\r\n                    (<div>\r\n                        <form id='cmsLoginForm'>\r\n                            <div>\r\n                                <Input className={this.state.errorStyle} type=\"text\" name=\"loginEmail\" placeholder='Enter your email' onChange={e => this.onChangeValue(e)} value={this.state.loginEmail} />\r\n                            </div>\r\n                            <div>\r\n                                <Input className={this.state.errorStyle} type=\"password\" name=\"loginPassword\" placeholder='Enter your password' onChange={e => this.onChangeValue(e)} value={this.state.loginPassword} />\r\n                            </div>\r\n                            <div id='cmsLoginButtonBox'>\r\n                                <button className='cmsLoginButton' type='submit' onClick={this.loginCms}>Manage School Brand</button>\r\n                            </div>\r\n                            <div className='loginText' id='loginNotRegister'>\r\n                                <p id='errorMessage'>{this.state.errorMessage}</p>\r\n                                <p className='toSignup' onClick={this.isSignUpBox}>Not registered? Sign up</p>\r\n                            </div></form>\r\n                    </div>)\r\n                }\r\n\r\n            </div>\r\n        );\r\n    };\r\n};\r\n         \r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isSchoolAuthenticated: state.cmsAuth.isSchoolAuthenticated,\r\n        isSchoolSignUp: state.cmsAuth.isSchoolSignUp\r\n        // isSignUpBox: state.auth.isSignUpBox\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        loginCmsUser: (email, password) => {\r\n            dispatch(loginCmsUser(email, password))\r\n        },\r\n        signUpCmsUser: (email, password) => {\r\n            dispatch(signUpCmsUser(email, password))\r\n        } \r\n}\r\n}\r\n\r\nexport const Login = connect(mapStateToProps, mapDispatchToProps)(withRouter(PureLogin))\r\n\r\n"]},"metadata":{},"sourceType":"module"}